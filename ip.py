import netaddr
import re

# print(int(netaddr.IPAddress('1.2.3.4')))
# print(str(netaddr.IPAddress(16909060)))

#Sample: 
# 2^2  129.0.0.1-129.0.0.5,12.0.0.23-12.0.0.25 || 129.0.0.1-129.0.0.5,12.0.0.5 || 12.0.0.2,11.0.0.1-11.0.0.5 || 1.0.0.54,0.0.0.43

# 2^3 Part1 1.0.0.54,0.0.0.43,12.0.56.34 || 12.0.0.2,11.0.0.1-11.0.0.5,1.0.0.3 || 12.0.0.2,11.0.0.1-11.0.0.5,1.0.0.3-1.0.0.7
# 2^3 Part2 1.0.0.54,0.0.0.43,0.0.0.1-0.0.0.20 || 129.0.0.1-129.0.0.5,12.0.0.5,192.0.0.1-192.0.0.45 || 129.0.0.1-129.0.0.5,12.0.0.5,192.0.0.1
# 2^3 Part3 129.0.0.1-129.0.0.5,12.0.0.23-12.0.0.25,192.0.0.1 || 129.0.0.1-129.0.0.5,12.0.0.23-12.0.0.25,192.0.0.1-192.0.0.45

#2^4 Part1 1.0.0.54,0.0.0.43,12.0.56.34,192.0.0.33 || 1.0.0.54,0.0.0.43,12.0.56.34,192.0.0.33-192.0.0.36 || 0.0.0.43,12.0.56.34,192.0.0.33-192.0.0.36,1.0.0.54
#2^4 Part2 12.0.56.34,192.0.0.33-192.0.0.36,1.0.0.54,0.0.0.43 || 1.0.0.54,0.0.0.43,129.0.0.1-129.0.0.5,12.0.0.23-12.0.0.25 || 1.0.0.54,129.0.0.1-129.0.0.5,12.0.0.23-12.0.0.25,0.0.0.43
#2^4 Part3 1.0.0.54,129.0.0.1-129.0.0.5,0.0.0.43,11.0.0.1-11.0.0.5 || 255.255.255.255,129.0.0.1-129.0.0.5,12.0.0.23-12.0.0.25,192.0.0.1-192.0.0.45 || 192.0.0.33-192.0.0.36,129.0.0.1-129.0.0.5,12.0.0.23-12.0.0.25,192.0.0.1-192.0.0.4
#2^4 Part4 129.0.0.1-129.0.0.5,12.0.0.23-12.0.0.25,192.0.0.1-192.0.0.45,0.0.0.4 || 129.0.0.1-129.0.0.5,12.0.0.23-12.0.0.25,192.0.0.1,192.0.0.45-192.0.0.48 || 200.0.0.1-200.0.0.4,192.0.0.1,192.0.0.45-192.0.0.48,11.0.0.1-11.0.0.5 
#2^4 Part5 129.0.0.1-129.0.0.5,12.0.0.23-12.0.0.25,1.0.0.54,0.0.0.43 || 129.0.0.1-129.0.0.5,1.0.0.54,0.0.0.43,12.0.0.23-12.0.0.25 || 12.0.0.23-12.0.0.25,0.0.0.43,11.0.0.1-11.0.0.5,1.0.0.54
#2^4 Part6 129.0.0.1-129.0.0.5,1.0.0.54,0.0.0.43,12.0.56.34

inp = input()		#Taking Input

#Parse the String

listt = []
syn = []

syntax = re.sub("[^-|,]", "", inp)

if not syntax:
	syn.append(0)

print(syntax)
for c in syntax:
	print(c)
	if c == ',':
		if not syn:
			syn.append(0)
		syn.append(0)

	if c == '-':
		if not syn:
			syn.append(1)
			syn.append(2)
		if syn[-1] == 0:
			# print("Inside the hyphen: ", syntax[i-1])
			del syn[-1]
			syn.append(1)
			syn.append(2)		

print("Printing - , List")
print(syn)

listt = re.split(',|-',inp)
print("Printing after re.split")
print(listt)

length = len(listt)

for i in range(length):
        listt[i] = int(netaddr.IPAddress(listt[i]))
print("Printing after conversion")
print(listt)

# Sorting and Merging

yx = list(map(list,zip(listt,syn)))
print("Before MS: ",yx)
yx.sort()
print("After Mergng and Sorting: ")
print(yx)


# Validation
for row in yx:
	for col in row:
		print(col)